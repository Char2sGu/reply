import{a as li,h as di,k as mi,m as Ie}from"./chunk-XVSFZ2EY.js";import{c as gi,d as Me,e as Ei}from"./chunk-HN2ZODN7.js";import{a as Ae}from"./chunk-GLURFALA.js";import{l as vi,m as be,o as xi,r as Oi}from"./chunk-NEYEICGN.js";import{a as it}from"./chunk-KAVP63DH.js";import{a as yi,b as Ti,d as Ii}from"./chunk-GWX3GFXN.js";import"./chunk-T7HJLGDV.js";import{A as Pt,Ac as te,C as Rr,Ca as Yr,Cc as qe,D as Lr,Db as ei,E as $r,Ea as Ge,Ec as Je,Fa as Wr,Ga as Vr,Gc as Ut,H as et,Ha as Kt,I as Ur,Ib as ri,Ic as ui,J as kr,Jc as Ke,K as St,Kb as Xe,Lb as ii,M as ye,Mb as ni,N as B,Nb as oi,O as Fr,Ob as si,Pb as ai,Q as Te,T as $,U as Ct,V as We,W as I,Wa as Gr,X as Ee,Xa as Xr,Y as xt,ab as Zr,b as Dr,d as me,ed as pi,gb as qr,gd as hi,ha as Br,hb as Jr,i as wr,j as tt,jd as fi,k as _r,ka as pt,la as jr,ld as Mi,m as M,ma as Ve,n as lt,o as Pr,od as bi,p as He,pd as Ai,qd as Si,r as Ye,rd as Ci,s as ve,sa as zr,sb as Kr,t as Jt,tb as It,u as At,ua as Hr,ub as Qr,ud as Qe,v as G,w as Nr,x as ge,xc as Ze,y as _t,yb as ti,yc as Qt,zc as ci}from"./chunk-LCFD4RLU.js";import{a as V,c as xr,d as Or}from"./chunk-OPXGAHDX.js";var Di=xr((ho,Se)=>{(function(n,r,d,i){"use strict";var s=["","webkit","Moz","MS","ms","o"],c=r.createElement("div"),m="function",g=Math.round,D=Math.abs,O=Date.now;function U(t,e,o){return setTimeout(Ht(t,o),e)}function S(t,e,o){return Array.isArray(t)?(P(t,o[e],o),!0):!1}function P(t,e,o){var a;if(t)if(t.forEach)t.forEach(e,o);else if(t.length!==i)for(a=0;a<t.length;)e.call(o,t[a],a,t),a++;else for(a in t)t.hasOwnProperty(a)&&e.call(o,t[a],a,t)}function zt(t,e,o){var a="DEPRECATED METHOD: "+e+`
`+o+` AT 
`;return function(){var u=new Error("get-stack-trace"),h=u&&u.stack?u.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",b=n.console&&(n.console.warn||n.console.log);return b&&b.call(n.console,a,h),t.apply(this,arguments)}}var J;typeof Object.assign!="function"?J=function(e){if(e===i||e===null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(e),a=1;a<arguments.length;a++){var u=arguments[a];if(u!==i&&u!==null)for(var h in u)u.hasOwnProperty(h)&&(o[h]=u[h])}return o}:J=Object.assign;var oe=zt(function(e,o,a){for(var u=Object.keys(o),h=0;h<u.length;)(!a||a&&e[u[h]]===i)&&(e[u[h]]=o[u[h]]),h++;return e},"extend","Use `assign`."),Pe=zt(function(e,o){return oe(e,o,!0)},"merge","Use `assign`.");function z(t,e,o){var a=e.prototype,u;u=t.prototype=Object.create(a),u.constructor=t,u._super=a,o&&J(u,o)}function Ht(t,e){return function(){return t.apply(e,arguments)}}function ht(t,e){return typeof t==m?t.apply(e&&e[0]||i,e):t}function ot(t,e){return t===i?e:t}function Mt(t,e,o){P(dt(e),function(a){t.addEventListener(a,o,!1)})}function ft(t,e,o){P(dt(e),function(a){t.removeEventListener(a,o,!1)})}function L(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function A(t,e){return t.indexOf(e)>-1}function dt(t){return t.trim().split(/\s+/g)}function mt(t,e,o){if(t.indexOf&&!o)return t.indexOf(e);for(var a=0;a<t.length;){if(o&&t[a][o]==e||!o&&t[a]===e)return a;a++}return-1}function y(t){return Array.prototype.slice.call(t,0)}function f(t,e,o){for(var a=[],u=[],h=0;h<t.length;){var b=e?t[h][e]:t[h];mt(u,b)<0&&a.push(t[h]),u[h]=b,h++}return o&&(e?a=a.sort(function(H,W){return H[e]>W[e]}):a=a.sort()),a}function l(t,e){for(var o,a,u=e[0].toUpperCase()+e.slice(1),h=0;h<s.length;){if(o=s[h],a=o?o+u:e,a in t)return a;h++}return i}var v=1;function p(){return v++}function T(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||n}var E=/mobile|tablet|ip(ad|hone|od)|android/i,C="ontouchstart"in n,w=l(n,"PointerEvent")!==i,k=C&&E.test(navigator.userAgent),N="touch",X="pen",st="mouse",vt="kinect",Ot=25,_=1,R=2,x=4,F=8,gt=1,Yt=2,Wt=4,Vt=8,Gt=16,at=Yt|Wt,Dt=Vt|Gt,cr=at|Dt,ur=["x","y"],se=["clientX","clientY"];function K(t,e){var o=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(a){ht(t.options.enable,[t])&&o.handler(a)},this.init()}K.prototype={handler:function(){},init:function(){this.evEl&&Mt(this.element,this.evEl,this.domHandler),this.evTarget&&Mt(this.target,this.evTarget,this.domHandler),this.evWin&&Mt(T(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&ft(this.element,this.evEl,this.domHandler),this.evTarget&&ft(this.target,this.evTarget,this.domHandler),this.evWin&&ft(T(this.element),this.evWin,this.domHandler)}};function fn(t){var e,o=t.options.inputClass;return o?e=o:w?e=Re:k?e=ue:C?e=Le:e=ce,new e(t,dn)}function dn(t,e,o){var a=o.pointers.length,u=o.changedPointers.length,h=e&_&&a-u===0,b=e&(x|F)&&a-u===0;o.isFirst=!!h,o.isFinal=!!b,h&&(t.session={}),o.eventType=e,mn(t,o),t.emit("hammer.input",o),t.recognize(o),t.session.prevInput=o}function mn(t,e){var o=t.session,a=e.pointers,u=a.length;o.firstInput||(o.firstInput=lr(e)),u>1&&!o.firstMultiple?o.firstMultiple=lr(e):u===1&&(o.firstMultiple=!1);var h=o.firstInput,b=o.firstMultiple,j=b?b.center:h.center,H=e.center=pr(a);e.timeStamp=O(),e.deltaTime=e.timeStamp-h.timeStamp,e.angle=Ne(j,H),e.distance=ae(j,H),vn(o,e),e.offsetDirection=fr(e.deltaX,e.deltaY);var W=hr(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=W.x,e.overallVelocityY=W.y,e.overallVelocity=D(W.x)>D(W.y)?W.x:W.y,e.scale=b?Tn(b.pointers,a):1,e.rotation=b?yn(b.pointers,a):0,e.maxPointers=o.prevInput?e.pointers.length>o.prevInput.maxPointers?e.pointers.length:o.prevInput.maxPointers:e.pointers.length,gn(o,e);var ut=t.element;L(e.srcEvent.target,ut)&&(ut=e.srcEvent.target),e.target=ut}function vn(t,e){var o=e.center,a=t.offsetDelta||{},u=t.prevDelta||{},h=t.prevInput||{};(e.eventType===_||h.eventType===x)&&(u=t.prevDelta={x:h.deltaX||0,y:h.deltaY||0},a=t.offsetDelta={x:o.x,y:o.y}),e.deltaX=u.x+(o.x-a.x),e.deltaY=u.y+(o.y-a.y)}function gn(t,e){var o=t.lastInterval||e,a=e.timeStamp-o.timeStamp,u,h,b,j;if(e.eventType!=F&&(a>Ot||o.velocity===i)){var H=e.deltaX-o.deltaX,W=e.deltaY-o.deltaY,ut=hr(a,H,W);h=ut.x,b=ut.y,u=D(ut.x)>D(ut.y)?ut.x:ut.y,j=fr(H,W),t.lastInterval=e}else u=o.velocity,h=o.velocityX,b=o.velocityY,j=o.direction;e.velocity=u,e.velocityX=h,e.velocityY=b,e.direction=j}function lr(t){for(var e=[],o=0;o<t.pointers.length;)e[o]={clientX:g(t.pointers[o].clientX),clientY:g(t.pointers[o].clientY)},o++;return{timeStamp:O(),pointers:e,center:pr(e),deltaX:t.deltaX,deltaY:t.deltaY}}function pr(t){var e=t.length;if(e===1)return{x:g(t[0].clientX),y:g(t[0].clientY)};for(var o=0,a=0,u=0;u<e;)o+=t[u].clientX,a+=t[u].clientY,u++;return{x:g(o/e),y:g(a/e)}}function hr(t,e,o){return{x:e/t||0,y:o/t||0}}function fr(t,e){return t===e?gt:D(t)>=D(e)?t<0?Yt:Wt:e<0?Vt:Gt}function ae(t,e,o){o||(o=ur);var a=e[o[0]]-t[o[0]],u=e[o[1]]-t[o[1]];return Math.sqrt(a*a+u*u)}function Ne(t,e,o){o||(o=ur);var a=e[o[0]]-t[o[0]],u=e[o[1]]-t[o[1]];return Math.atan2(u,a)*180/Math.PI}function yn(t,e){return Ne(e[1],e[0],se)+Ne(t[1],t[0],se)}function Tn(t,e){return ae(e[0],e[1],se)/ae(t[0],t[1],se)}var En={mousedown:_,mousemove:R,mouseup:x},In="mousedown",Mn="mousemove mouseup";function ce(){this.evEl=In,this.evWin=Mn,this.pressed=!1,K.apply(this,arguments)}z(ce,K,{handler:function(e){var o=En[e.type];o&_&&e.button===0&&(this.pressed=!0),o&R&&e.which!==1&&(o=x),this.pressed&&(o&x&&(this.pressed=!1),this.callback(this.manager,o,{pointers:[e],changedPointers:[e],pointerType:st,srcEvent:e}))}});var bn={pointerdown:_,pointermove:R,pointerup:x,pointercancel:F,pointerout:F},An={2:N,3:X,4:st,5:vt},dr="pointerdown",mr="pointermove pointerup pointercancel";n.MSPointerEvent&&!n.PointerEvent&&(dr="MSPointerDown",mr="MSPointerMove MSPointerUp MSPointerCancel");function Re(){this.evEl=dr,this.evWin=mr,K.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}z(Re,K,{handler:function(e){var o=this.store,a=!1,u=e.type.toLowerCase().replace("ms",""),h=bn[u],b=An[e.pointerType]||e.pointerType,j=b==N,H=mt(o,e.pointerId,"pointerId");h&_&&(e.button===0||j)?H<0&&(o.push(e),H=o.length-1):h&(x|F)&&(a=!0),!(H<0)&&(o[H]=e,this.callback(this.manager,h,{pointers:o,changedPointers:[e],pointerType:b,srcEvent:e}),a&&o.splice(H,1))}});var Sn={touchstart:_,touchmove:R,touchend:x,touchcancel:F},Cn="touchstart",xn="touchstart touchmove touchend touchcancel";function vr(){this.evTarget=Cn,this.evWin=xn,this.started=!1,K.apply(this,arguments)}z(vr,K,{handler:function(e){var o=Sn[e.type];if(o===_&&(this.started=!0),!!this.started){var a=On.call(this,e,o);o&(x|F)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,o,{pointers:a[0],changedPointers:a[1],pointerType:N,srcEvent:e})}}});function On(t,e){var o=y(t.touches),a=y(t.changedTouches);return e&(x|F)&&(o=f(o.concat(a),"identifier",!0)),[o,a]}var Dn={touchstart:_,touchmove:R,touchend:x,touchcancel:F},wn="touchstart touchmove touchend touchcancel";function ue(){this.evTarget=wn,this.targetIds={},K.apply(this,arguments)}z(ue,K,{handler:function(e){var o=Dn[e.type],a=_n.call(this,e,o);a&&this.callback(this.manager,o,{pointers:a[0],changedPointers:a[1],pointerType:N,srcEvent:e})}});function _n(t,e){var o=y(t.touches),a=this.targetIds;if(e&(_|R)&&o.length===1)return a[o[0].identifier]=!0,[o,o];var u,h,b=y(t.changedTouches),j=[],H=this.target;if(h=o.filter(function(W){return L(W.target,H)}),e===_)for(u=0;u<h.length;)a[h[u].identifier]=!0,u++;for(u=0;u<b.length;)a[b[u].identifier]&&j.push(b[u]),e&(x|F)&&delete a[b[u].identifier],u++;if(j.length)return[f(h.concat(j),"identifier",!0),j]}var Pn=2500,gr=25;function Le(){K.apply(this,arguments);var t=Ht(this.handler,this);this.touch=new ue(this.manager,t),this.mouse=new ce(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}z(Le,K,{handler:function(e,o,a){var u=a.pointerType==N,h=a.pointerType==st;if(!(h&&a.sourceCapabilities&&a.sourceCapabilities.firesTouchEvents)){if(u)Nn.call(this,o,a);else if(h&&Rn.call(this,a))return;this.callback(e,o,a)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Nn(t,e){t&_?(this.primaryTouch=e.changedPointers[0].identifier,yr.call(this,e)):t&(x|F)&&yr.call(this,e)}function yr(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var o={x:e.clientX,y:e.clientY};this.lastTouches.push(o);var a=this.lastTouches,u=function(){var h=a.indexOf(o);h>-1&&a.splice(h,1)};setTimeout(u,Pn)}}function Rn(t){for(var e=t.srcEvent.clientX,o=t.srcEvent.clientY,a=0;a<this.lastTouches.length;a++){var u=this.lastTouches[a],h=Math.abs(e-u.x),b=Math.abs(o-u.y);if(h<=gr&&b<=gr)return!0}return!1}var Tr=l(c.style,"touchAction"),Er=Tr!==i,Ir="compute",Mr="auto",$e="manipulation",wt="none",Xt="pan-x",Zt="pan-y",le=$n();function Ue(t,e){this.manager=t,this.set(e)}Ue.prototype={set:function(t){t==Ir&&(t=this.compute()),Er&&this.manager.element.style&&le[t]&&(this.manager.element.style[Tr]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return P(this.manager.recognizers,function(e){ht(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),Ln(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,o=t.offsetDirection;if(this.manager.session.prevented){e.preventDefault();return}var a=this.actions,u=A(a,wt)&&!le[wt],h=A(a,Zt)&&!le[Zt],b=A(a,Xt)&&!le[Xt];if(u){var j=t.pointers.length===1,H=t.distance<2,W=t.deltaTime<250;if(j&&H&&W)return}if(!(b&&h)&&(u||h&&o&at||b&&o&Dt))return this.preventSrc(e)},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};function Ln(t){if(A(t,wt))return wt;var e=A(t,Xt),o=A(t,Zt);return e&&o?wt:e||o?e?Xt:Zt:A(t,$e)?$e:Mr}function $n(){if(!Er)return!1;var t={},e=n.CSS&&n.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(o){t[o]=e?n.CSS.supports("touch-action",o):!0}),t}var pe=1,Q=2,$t=4,bt=8,yt=bt,qt=16,ct=32;function Tt(t){this.options=J({},this.defaults,t||{}),this.id=p(),this.manager=null,this.options.enable=ot(this.options.enable,!0),this.state=pe,this.simultaneous={},this.requireFail=[]}Tt.prototype={defaults:{},set:function(t){return J(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(S(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=he(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return S(t,"dropRecognizeWith",this)?this:(t=he(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(S(t,"requireFailure",this))return this;var e=this.requireFail;return t=he(t,this),mt(e,t)===-1&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(S(t,"dropRequireFailure",this))return this;t=he(t,this);var e=mt(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,o=this.state;function a(u){e.manager.emit(u,t)}o<bt&&a(e.options.event+br(o)),a(e.options.event),t.additionalEvent&&a(t.additionalEvent),o>=bt&&a(e.options.event+br(o))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=ct},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(ct|pe)))return!1;t++}return!0},recognize:function(t){var e=J({},t);if(!ht(this.options.enable,[this,e])){this.reset(),this.state=ct;return}this.state&(yt|qt|ct)&&(this.state=pe),this.state=this.process(e),this.state&(Q|$t|bt|qt)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}};function br(t){return t&qt?"cancel":t&bt?"end":t&$t?"move":t&Q?"start":""}function Ar(t){return t==Gt?"down":t==Vt?"up":t==Yt?"left":t==Wt?"right":""}function he(t,e){var o=e.manager;return o?o.get(t):t}function rt(){Tt.apply(this,arguments)}z(rt,Tt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return e===0||t.pointers.length===e},process:function(t){var e=this.state,o=t.eventType,a=e&(Q|$t),u=this.attrTest(t);return a&&(o&F||!u)?e|qt:a||u?o&x?e|bt:e&Q?e|$t:Q:ct}});function fe(){rt.apply(this,arguments),this.pX=null,this.pY=null}z(fe,rt,{defaults:{event:"pan",threshold:10,pointers:1,direction:cr},getTouchAction:function(){var t=this.options.direction,e=[];return t&at&&e.push(Zt),t&Dt&&e.push(Xt),e},directionTest:function(t){var e=this.options,o=!0,a=t.distance,u=t.direction,h=t.deltaX,b=t.deltaY;return u&e.direction||(e.direction&at?(u=h===0?gt:h<0?Yt:Wt,o=h!=this.pX,a=Math.abs(t.deltaX)):(u=b===0?gt:b<0?Vt:Gt,o=b!=this.pY,a=Math.abs(t.deltaY))),t.direction=u,o&&a>e.threshold&&u&e.direction},attrTest:function(t){return rt.prototype.attrTest.call(this,t)&&(this.state&Q||!(this.state&Q)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Ar(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}});function ke(){rt.apply(this,arguments)}z(ke,rt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[wt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Q)},emit:function(t){if(t.scale!==1){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}});function Fe(){Tt.apply(this,arguments),this._timer=null,this._input=null}z(Fe,Tt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Mr]},process:function(t){var e=this.options,o=t.pointers.length===e.pointers,a=t.distance<e.threshold,u=t.deltaTime>e.time;if(this._input=t,!a||!o||t.eventType&(x|F)&&!u)this.reset();else if(t.eventType&_)this.reset(),this._timer=U(function(){this.state=yt,this.tryEmit()},e.time,this);else if(t.eventType&x)return yt;return ct},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===yt&&(t&&t.eventType&x?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=O(),this.manager.emit(this.options.event,this._input)))}});function Be(){rt.apply(this,arguments)}z(Be,rt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[wt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Q)}});function je(){rt.apply(this,arguments)}z(je,rt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:at|Dt,pointers:1},getTouchAction:function(){return fe.prototype.getTouchAction.call(this)},attrTest:function(t){var e=this.options.direction,o;return e&(at|Dt)?o=t.overallVelocity:e&at?o=t.overallVelocityX:e&Dt&&(o=t.overallVelocityY),this._super.attrTest.call(this,t)&&e&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&D(o)>this.options.velocity&&t.eventType&x},emit:function(t){var e=Ar(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}});function de(){Tt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}z(de,Tt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[$e]},process:function(t){var e=this.options,o=t.pointers.length===e.pointers,a=t.distance<e.threshold,u=t.deltaTime<e.time;if(this.reset(),t.eventType&_&&this.count===0)return this.failTimeout();if(a&&u&&o){if(t.eventType!=x)return this.failTimeout();var h=this.pTime?t.timeStamp-this.pTime<e.interval:!0,b=!this.pCenter||ae(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,!b||!h?this.count=1:this.count+=1,this._input=t;var j=this.count%e.taps;if(j===0)return this.hasRequireFailures()?(this._timer=U(function(){this.state=yt,this.tryEmit()},e.interval,this),Q):yt}return ct},failTimeout:function(){return this._timer=U(function(){this.state=ct},this.options.interval,this),ct},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==yt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Et(t,e){return e=e||{},e.recognizers=ot(e.recognizers,Et.defaults.preset),new ze(t,e)}Et.VERSION="2.0.7",Et.defaults={domEvents:!1,touchAction:Ir,enable:!0,inputTarget:null,inputClass:null,preset:[[Be,{enable:!1}],[ke,{enable:!1},["rotate"]],[je,{direction:at}],[fe,{direction:at},["swipe"]],[de],[de,{event:"doubletap",taps:2},["tap"]],[Fe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Un=1,Sr=2;function ze(t,e){this.options=J({},Et.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=fn(this),this.touchAction=new Ue(this,this.options.touchAction),Cr(this,!0),P(this.options.recognizers,function(o){var a=this.add(new o[0](o[1]));o[2]&&a.recognizeWith(o[2]),o[3]&&a.requireFailure(o[3])},this)}ze.prototype={set:function(t){return J(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?Sr:Un},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var o,a=this.recognizers,u=e.curRecognizer;(!u||u&&u.state&yt)&&(u=e.curRecognizer=null);for(var h=0;h<a.length;)o=a[h],e.stopped!==Sr&&(!u||o==u||o.canRecognizeWith(u))?o.recognize(t):o.reset(),!u&&o.state&(Q|$t|bt)&&(u=e.curRecognizer=o),h++}},get:function(t){if(t instanceof Tt)return t;for(var e=this.recognizers,o=0;o<e.length;o++)if(e[o].options.event==t)return e[o];return null},add:function(t){if(S(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(S(t,"remove",this))return this;if(t=this.get(t),t){var e=this.recognizers,o=mt(e,t);o!==-1&&(e.splice(o,1),this.touchAction.update())}return this},on:function(t,e){if(t!==i&&e!==i){var o=this.handlers;return P(dt(t),function(a){o[a]=o[a]||[],o[a].push(e)}),this}},off:function(t,e){if(t!==i){var o=this.handlers;return P(dt(t),function(a){e?o[a]&&o[a].splice(mt(o[a],e),1):delete o[a]}),this}},emit:function(t,e){this.options.domEvents&&kn(t,e);var o=this.handlers[t]&&this.handlers[t].slice();if(!(!o||!o.length)){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var a=0;a<o.length;)o[a](e),a++}},destroy:function(){this.element&&Cr(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Cr(t,e){var o=t.element;if(o.style){var a;P(t.options.cssProps,function(u,h){a=l(o.style,h),e?(t.oldCssProps[a]=o.style[a],o.style[a]=u):o.style[a]=t.oldCssProps[a]||""}),e||(t.oldCssProps={})}}function kn(t,e){var o=r.createEvent("Event");o.initEvent(t,!0,!0),o.gesture=e,e.target.dispatchEvent(o)}J(Et,{INPUT_START:_,INPUT_MOVE:R,INPUT_END:x,INPUT_CANCEL:F,STATE_POSSIBLE:pe,STATE_BEGAN:Q,STATE_CHANGED:$t,STATE_ENDED:bt,STATE_RECOGNIZED:yt,STATE_CANCELLED:qt,STATE_FAILED:ct,DIRECTION_NONE:gt,DIRECTION_LEFT:Yt,DIRECTION_RIGHT:Wt,DIRECTION_UP:Vt,DIRECTION_DOWN:Gt,DIRECTION_HORIZONTAL:at,DIRECTION_VERTICAL:Dt,DIRECTION_ALL:cr,Manager:ze,Input:K,TouchAction:Ue,TouchInput:ue,MouseInput:ce,PointerEventInput:Re,TouchMouseInput:Le,SingleTouchInput:vr,Recognizer:Tt,AttrRecognizer:rt,Tap:de,Pan:fe,Swipe:je,Pinch:ke,Rotate:Be,Press:Fe,on:Mt,off:ft,each:P,merge:Pe,extend:oe,assign:J,inherit:z,bindFn:Ht,prefixed:l});var Fn=typeof n<"u"?n:typeof self<"u"?self:{};Fn.Hammer=Et,typeof define=="function"&&define.amd?define(function(){return Et}):typeof Se<"u"&&Se.exports?Se.exports=Et:n[d]=Et})(window,document,"Hammer")});var Ui=xr((tr,er)=>{(function(n,r){typeof tr=="object"&&typeof er<"u"?er.exports=r():typeof define=="function"&&define.amd?define(r):(n=typeof globalThis<"u"?globalThis:n||self).dayjs=r()})(tr,function(){"use strict";var n=1e3,r=6e4,d=36e5,i="millisecond",s="second",c="minute",m="hour",g="day",D="week",O="month",U="quarter",S="year",P="date",zt="Invalid Date",J=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,oe=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Pe={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(y){var f=["th","st","nd","rd"],l=y%100;return"["+y+(f[(l-20)%10]||f[l]||f[0])+"]"}},z=function(y,f,l){var v=String(y);return!v||v.length>=f?y:""+Array(f+1-v.length).join(l)+y},Ht={s:z,z:function(y){var f=-y.utcOffset(),l=Math.abs(f),v=Math.floor(l/60),p=l%60;return(f<=0?"+":"-")+z(v,2,"0")+":"+z(p,2,"0")},m:function y(f,l){if(f.date()<l.date())return-y(l,f);var v=12*(l.year()-f.year())+(l.month()-f.month()),p=f.clone().add(v,O),T=l-p<0,E=f.clone().add(v+(T?-1:1),O);return+(-(v+(l-p)/(T?p-E:E-p))||0)},a:function(y){return y<0?Math.ceil(y)||0:Math.floor(y)},p:function(y){return{M:O,y:S,w:D,d:g,D:P,h:m,m:c,s,ms:i,Q:U}[y]||String(y||"").toLowerCase().replace(/s$/,"")},u:function(y){return y===void 0}},ht="en",ot={};ot[ht]=Pe;var Mt=function(y){return y instanceof dt},ft=function y(f,l,v){var p;if(!f)return ht;if(typeof f=="string"){var T=f.toLowerCase();ot[T]&&(p=T),l&&(ot[T]=l,p=T);var E=f.split("-");if(!p&&E.length>1)return y(E[0])}else{var C=f.name;ot[C]=f,p=C}return!v&&p&&(ht=p),p||!v&&ht},L=function(y,f){if(Mt(y))return y.clone();var l=typeof f=="object"?f:{};return l.date=y,l.args=arguments,new dt(l)},A=Ht;A.l=ft,A.i=Mt,A.w=function(y,f){return L(y,{locale:f.$L,utc:f.$u,x:f.$x,$offset:f.$offset})};var dt=function(){function y(l){this.$L=ft(l.locale,null,!0),this.parse(l)}var f=y.prototype;return f.parse=function(l){this.$d=function(v){var p=v.date,T=v.utc;if(p===null)return new Date(NaN);if(A.u(p))return new Date;if(p instanceof Date)return new Date(p);if(typeof p=="string"&&!/Z$/i.test(p)){var E=p.match(J);if(E){var C=E[2]-1||0,w=(E[7]||"0").substring(0,3);return T?new Date(Date.UTC(E[1],C,E[3]||1,E[4]||0,E[5]||0,E[6]||0,w)):new Date(E[1],C,E[3]||1,E[4]||0,E[5]||0,E[6]||0,w)}}return new Date(p)}(l),this.$x=l.x||{},this.init()},f.init=function(){var l=this.$d;this.$y=l.getFullYear(),this.$M=l.getMonth(),this.$D=l.getDate(),this.$W=l.getDay(),this.$H=l.getHours(),this.$m=l.getMinutes(),this.$s=l.getSeconds(),this.$ms=l.getMilliseconds()},f.$utils=function(){return A},f.isValid=function(){return this.$d.toString()!==zt},f.isSame=function(l,v){var p=L(l);return this.startOf(v)<=p&&p<=this.endOf(v)},f.isAfter=function(l,v){return L(l)<this.startOf(v)},f.isBefore=function(l,v){return this.endOf(v)<L(l)},f.$g=function(l,v,p){return A.u(l)?this[v]:this.set(p,l)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(l,v){var p=this,T=!!A.u(v)||v,E=A.p(l),C=function(_,R){var x=A.w(p.$u?Date.UTC(p.$y,R,_):new Date(p.$y,R,_),p);return T?x:x.endOf(g)},w=function(_,R){return A.w(p.toDate()[_].apply(p.toDate("s"),(T?[0,0,0,0]:[23,59,59,999]).slice(R)),p)},k=this.$W,N=this.$M,X=this.$D,st="set"+(this.$u?"UTC":"");switch(E){case S:return T?C(1,0):C(31,11);case O:return T?C(1,N):C(0,N+1);case D:var vt=this.$locale().weekStart||0,Ot=(k<vt?k+7:k)-vt;return C(T?X-Ot:X+(6-Ot),N);case g:case P:return w(st+"Hours",0);case m:return w(st+"Minutes",1);case c:return w(st+"Seconds",2);case s:return w(st+"Milliseconds",3);default:return this.clone()}},f.endOf=function(l){return this.startOf(l,!1)},f.$set=function(l,v){var p,T=A.p(l),E="set"+(this.$u?"UTC":""),C=(p={},p[g]=E+"Date",p[P]=E+"Date",p[O]=E+"Month",p[S]=E+"FullYear",p[m]=E+"Hours",p[c]=E+"Minutes",p[s]=E+"Seconds",p[i]=E+"Milliseconds",p)[T],w=T===g?this.$D+(v-this.$W):v;if(T===O||T===S){var k=this.clone().set(P,1);k.$d[C](w),k.init(),this.$d=k.set(P,Math.min(this.$D,k.daysInMonth())).$d}else C&&this.$d[C](w);return this.init(),this},f.set=function(l,v){return this.clone().$set(l,v)},f.get=function(l){return this[A.p(l)]()},f.add=function(l,v){var p,T=this;l=Number(l);var E=A.p(v),C=function(N){var X=L(T);return A.w(X.date(X.date()+Math.round(N*l)),T)};if(E===O)return this.set(O,this.$M+l);if(E===S)return this.set(S,this.$y+l);if(E===g)return C(1);if(E===D)return C(7);var w=(p={},p[c]=r,p[m]=d,p[s]=n,p)[E]||1,k=this.$d.getTime()+l*w;return A.w(k,this)},f.subtract=function(l,v){return this.add(-1*l,v)},f.format=function(l){var v=this,p=this.$locale();if(!this.isValid())return p.invalidDate||zt;var T=l||"YYYY-MM-DDTHH:mm:ssZ",E=A.z(this),C=this.$H,w=this.$m,k=this.$M,N=p.weekdays,X=p.months,st=p.meridiem,vt=function(R,x,F,gt){return R&&(R[x]||R(v,T))||F[x].slice(0,gt)},Ot=function(R){return A.s(C%12||12,R,"0")},_=st||function(R,x,F){var gt=R<12?"AM":"PM";return F?gt.toLowerCase():gt};return T.replace(oe,function(R,x){return x||function(F){switch(F){case"YY":return String(v.$y).slice(-2);case"YYYY":return A.s(v.$y,4,"0");case"M":return k+1;case"MM":return A.s(k+1,2,"0");case"MMM":return vt(p.monthsShort,k,X,3);case"MMMM":return vt(X,k);case"D":return v.$D;case"DD":return A.s(v.$D,2,"0");case"d":return String(v.$W);case"dd":return vt(p.weekdaysMin,v.$W,N,2);case"ddd":return vt(p.weekdaysShort,v.$W,N,3);case"dddd":return N[v.$W];case"H":return String(C);case"HH":return A.s(C,2,"0");case"h":return Ot(1);case"hh":return Ot(2);case"a":return _(C,w,!0);case"A":return _(C,w,!1);case"m":return String(w);case"mm":return A.s(w,2,"0");case"s":return String(v.$s);case"ss":return A.s(v.$s,2,"0");case"SSS":return A.s(v.$ms,3,"0");case"Z":return E}return null}(R)||E.replace(":","")})},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(l,v,p){var T,E=this,C=A.p(v),w=L(l),k=(w.utcOffset()-this.utcOffset())*r,N=this-w,X=function(){return A.m(E,w)};switch(C){case S:T=X()/12;break;case O:T=X();break;case U:T=X()/3;break;case D:T=(N-k)/6048e5;break;case g:T=(N-k)/864e5;break;case m:T=N/d;break;case c:T=N/r;break;case s:T=N/n;break;default:T=N}return p?T:A.a(T)},f.daysInMonth=function(){return this.endOf(O).$D},f.$locale=function(){return ot[this.$L]},f.locale=function(l,v){if(!l)return this.$L;var p=this.clone(),T=ft(l,v,!0);return T&&(p.$L=T),p},f.clone=function(){return A.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},y}(),mt=dt.prototype;return L.prototype=mt,[["$ms",i],["$s",s],["$m",c],["$H",m],["$W",g],["$M",O],["$y",S],["$D",P]].forEach(function(y){mt[y[1]]=function(f){return this.$g(f,y[0],y[1])}}),L.extend=function(y,f){return y.$i||(y(f,dt,L),y.$i=!0),L},L.locale=ft,L.isDayjs=Mt,L.unix=function(y){return L(1e3*y)},L.en=ot[ht],L.Ls=ot,L.p={},L})});var Oa=Or(Di());var re="Service workers are disabled or not supported by this browser";function Bn(n){return He(()=>_r(new Error(n)))}var kt=class{constructor(r){if(this.serviceWorker=r,!r)this.worker=this.events=this.registration=Bn(re);else{let i=Ye(r,"controllerchange").pipe(M(()=>r.controller)),s=He(()=>tt(r.controller)),c=Pr(s,i);this.worker=c.pipe(G(U=>!!U)),this.registration=this.worker.pipe(B(()=>r.getRegistration()));let O=Ye(r,"message").pipe(M(U=>U.data)).pipe(G(U=>U&&U.type)).pipe(kr());O.connect(),this.events=O}}postMessage(r,d){return this.worker.pipe(Pt(1),Te(i=>{i.postMessage(V({action:r},d))})).toPromise().then(()=>{})}postMessageWithOperation(r,d,i){let s=this.waitForOperationCompleted(i),c=this.postMessage(r,d);return Promise.all([c,s]).then(([,m])=>m)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(r){let d;return typeof r=="string"?d=i=>i.type===r:d=i=>r.includes(i.type),this.events.pipe(G(d))}nextEventOfType(r){return this.eventsOfType(r).pipe(Pt(1))}waitForOperationCompleted(r){return this.eventsOfType("OPERATION_COMPLETED").pipe(G(d=>d.nonce===r),Pt(1),M(d=>{if(d.result!==void 0)return d.result;throw new Error(d.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},Ni=(()=>{let r=class{get isEnabled(){return this.sw.isEnabled}constructor(i){if(this.sw=i,this.pushManager=null,this.subscriptionChanges=new me,!i.isEnabled){this.messages=At,this.notificationClicks=At,this.subscription=At;return}this.messages=this.sw.eventsOfType("PUSH").pipe(M(c=>c.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(M(c=>c.data)),this.pushManager=this.sw.registration.pipe(M(c=>c.pushManager));let s=this.pushManager.pipe(B(c=>c.getSubscription()));this.subscription=Jt(s,this.subscriptionChanges)}requestSubscription(i){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(re));let s={userVisibleOnly:!0},c=this.decodeBase64(i.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),m=new Uint8Array(new ArrayBuffer(c.length));for(let g=0;g<c.length;g++)m[g]=c.charCodeAt(g);return s.applicationServerKey=m,this.pushManager.pipe(B(g=>g.subscribe(s)),Pt(1)).toPromise().then(g=>(this.subscriptionChanges.next(g),g))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(re));let i=s=>{if(s===null)throw new Error("Not subscribed to push notifications.");return s.unsubscribe().then(c=>{if(!c)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(Pt(1),B(i)).toPromise()}decodeBase64(i){return atob(i)}},n=r;return(()=>{r.\u0275fac=function(s){return new(s||r)(We(kt))}})(),(()=>{r.\u0275prov=$({token:r,factory:r.\u0275fac})})(),n})(),Ri=(()=>{let r=class{get isEnabled(){return this.sw.isEnabled}constructor(i){if(this.sw=i,!i.isEnabled){this.versionUpdates=At,this.available=At,this.activated=At,this.unrecoverable=At;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(G(s=>s.type==="VERSION_READY"),M(s=>({type:"UPDATE_AVAILABLE",current:s.currentVersion,available:s.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(re));let i=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:i},i)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(re));let i=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:i},i)}},n=r;return(()=>{r.\u0275fac=function(s){return new(s||r)(We(kt))}})(),(()=>{r.\u0275prov=$({token:r,factory:r.\u0275fac})})(),n})();var wi=new pt("NGSW_REGISTER_SCRIPT");function jn(n,r,d,i){return()=>{if(!(Xe(i)&&"serviceWorker"in navigator&&d.enabled!==!1))return;navigator.serviceWorker.addEventListener("controllerchange",()=>{navigator.serviceWorker.controller!==null&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})});let s;if(typeof d.registrationStrategy=="function")s=d.registrationStrategy();else{let[m,...g]=(d.registrationStrategy||"registerWhenStable:30000").split(":");switch(m){case"registerImmediately":s=tt(null);break;case"registerWithDelay":s=_i(+g[0]||0);break;case"registerWhenStable":s=g[0]?Jt(Pi(n),_i(+g[0])):Pi(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${d.registrationStrategy}`)}}n.get(It).runOutsideAngular(()=>s.pipe(Pt(1)).subscribe(()=>navigator.serviceWorker.register(r,{scope:d.scope}).catch(m=>console.error("Service worker registration failed with:",m))))}}function _i(n){return tt(null).pipe(Rr(n))}function Pi(n){return n.get(Qr).isStable.pipe(G(d=>d))}function zn(n,r){return new kt(Xe(r)&&n.enabled!==!1?navigator.serviceWorker:void 0)}var ee=class{};function Hn(n,r={}){return jr([Ni,Ri,{provide:wi,useValue:n},{provide:ee,useValue:r},{provide:kt,useFactory:zn,deps:[ee,Ve]},{provide:Kr,useFactory:jn,deps:[Hr,wi,ee,Ve],multi:!0}])}var Li=(()=>{let r=class{static register(i,s={}){return{ngModule:r,providers:[Hn(i,s)]}}},n=r;return(()=>{r.\u0275fac=function(s){return new(s||r)}})(),(()=>{r.\u0275mod=xt({type:r})})(),(()=>{r.\u0275inj=Ct({providers:[Ni,Ri]})})(),n})();var Nt=new pt("INITIALIZERS");var Ft=(()=>{let r=class{},n=r;return(()=>{r.\u0275fac=function(s){return new(s||r)}})(),(()=>{r.\u0275prov=$({token:r,factory:r.\u0275fac})})(),n})();var Ce=(()=>{let r=class{},n=r;return(()=>{r.\u0275fac=function(s){return new(s||r)}})(),(()=>{r.\u0275prov=$({token:r,factory:r.\u0275fac})})(),n})();function ie(n,r){return new Promise((d,i)=>{r.then(s=>n.run(()=>d(s)),s=>n.run(()=>i(s)))})}var $i=(()=>{let r=class{constructor(){this.document=I(ti)}load(i){return new Dr(s=>{let c=this.document.createElement("script");return c.src=i,c.addEventListener("load",()=>{s.next(),s.complete()}),c.addEventListener("error",m=>{s.error(m.error)}),this.document.head.appendChild(c),()=>c.remove()})}},n=r;return(()=>{r.\u0275fac=function(s){return new(s||r)}})(),(()=>{r.\u0275prov=$({token:r,factory:r.\u0275fac,providedIn:"root"})})(),n})();var Rt=new pt("GOOGLE_APIS",{providedIn:"root",factory:()=>{let n=I($i),r=I(It);return lt([n.load("https://apis.google.com/js/api.js").pipe(_t(()=>{let d=new Promise(i=>gapi.load("client",i));return ie(r,d)}),_t(()=>{let d=gapi.client.init({discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/gmail/v1/rest","https://www.googleapis.com/discovery/v1/apis/people/v1/rest"]});return ie(r,d)})),n.load("https://accounts.google.com/gsi/client")]).pipe(Te(()=>It.assertInAngularZone()),M(()=>({gmail:gapi.client.gmail,people:gapi.client.people,oauth2:google.accounts.oauth2})),St(1))}});var xe=new pt("GOOGLE_CLIENT_ID");var rr=Or(Ui());function Z(n){let r=I(Rt),d=I(It),i=r.pipe(M(c=>n(c)));return(...c)=>i.pipe(_t(m=>{let g=m(...c);return ie(d,g)}))}var Yn=["https://mail.google.com/","https://www.googleapis.com/auth/userinfo.profile","https://www.googleapis.com/auth/userinfo.email","https://www.googleapis.com/auth/contacts.readonly"],ki=(()=>{let r=class{constructor(){this.contactService=I(Ft),this.apis$=I(Rt),this.clientId=I(xe),this.peopleGetApi=Z(i=>i.people.people.get),this.tokenRevokeApi=Z(i=>s=>new Promise(c=>i.oauth2.revoke(s,c))),this.tokenClient$=this.apis$.pipe(M(i=>i.oauth2.initTokenClient({client_id:this.clientId,scope:Yn.join(" "),callback:s=>{It.assertInAngularZone(),this.setAuthorization({token:s.access_token,issuedAt:new Date,lifespan:+s.expires_in})}}))),this.authorizationUpdate$=new me,this.authorization$=this.authorizationUpdate$.pipe(M(i=>i.type==="obtain"?i.value:null),ye(null),St(1)),this.authorized$=this.authorization$.pipe(M(i=>!!i),Lr(),St(1)),this.user$=this.authorized$.pipe(G(Boolean),B(()=>this.contactService.loadUser()),St(1))}setAuthorization(i){let c=(0,rr.default)(i.issuedAt).add(i.lifespan,"seconds"),m=()=>(0,rr.default)().add(1,"minute").isAfter(c);return m()?!1:(this.authorizationUpdate$.next({type:"obtain",value:i}),ve(0,30*1e3).pipe(Fr(this.authorizationUpdate$),G(()=>m())).subscribe(()=>{this.authorizationUpdate$.next({type:"expire"})}),!0)}requestAuthorization(){this.tokenClient$.pipe(et()).subscribe(i=>{i.requestAccessToken()})}revokeAuthorization(){this.authorization$.pipe(et(),G(Boolean),$r(()=>new Ti),_t(i=>this.tokenRevokeApi(i.token))).subscribe(()=>{this.authorizationUpdate$.next({type:"revoke"})})}},n=r;return(()=>{r.\u0275fac=function(s){return new(s||r)}})(),(()=>{r.\u0275prov=$({token:r,factory:r.\u0275fac})})(),n})();function Oe(n,r){for(let d of r){let i=n,s=d.split(".");for(let[c,m]of s.entries())if(i=i[m],i==null){let g=s.slice(0,c+1).join("."),D=`When asserting path "${d}", "${g}" is "${i}"`;throw new Error(D)}}return n}function nt(n,r){let d=n,i=r.split(".");for(let[s,c]of i.entries())if(d=d[c],d==null){let m=i.slice(0,s+1).join("."),g=`When accessing path "${r}", "${m}" is "${d}".`;throw new Error(g)}return d}var Fi=(()=>{let r=class{constructor(){this.contactRepo=I(Me),this.peopleGetApi=Z(i=>i.people.people.get),this.peopleListApi=Z(i=>i.people.people.connections.list),this.peopleSearchApi=Z(i=>i.people.people.searchContacts)}loadContacts(){return tt([])}loadContact(i){return this.peopleGetApi({resourceName:`people/${i}`,personFields:"names,photos,emailAddresses"}).pipe(M(s=>nt(s,"result")),B(s=>this.parseFullPersonAndSave(s)))}loadUser(){return this.loadContact("me")}parsePerson(i){let{resourceName:s,names:c,photos:m,emailAddresses:g}=i,D=s.split("/").pop();if(!D)throw new yi;let O=c.find(P=>P.metadata?.primary)?.displayName,U=m?.find(P=>P.metadata?.primary),S=g?.find(P=>P.metadata?.primary)?.value;return V(V(V({id:D},O&&{name:O}),S&&{email:S}),U&&{avatarUrl:U.url})}parseFullPerson(i){let s=this.parsePerson(i);return Oe(s,["name","email","avatarUrl"])}parseFullPersonAndSave(i){let s=this.parseFullPerson(i);return wr(this.contactRepo.insertOrPatch(s))}},n=r;return(()=>{r.\u0275fac=function(s){return new(s||r)}})(),(()=>{r.\u0275prov=$({token:r,factory:r.\u0275fac})})(),n})();var Wi="3.7.5",Wn=Wi,Vn=typeof atob=="function",Gn=typeof btoa=="function",jt=typeof Buffer=="function",Bi=typeof TextDecoder=="function"?new TextDecoder:void 0,ji=typeof TextEncoder=="function"?new TextEncoder:void 0,Xn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ne=Array.prototype.slice.call(Xn),De=(n=>{let r={};return n.forEach((d,i)=>r[d]=i),r})(ne),Zn=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Y=String.fromCharCode.bind(String),zi=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):n=>new Uint8Array(Array.prototype.slice.call(n,0)),Vi=n=>n.replace(/=/g,"").replace(/[+\/]/g,r=>r=="+"?"-":"_"),Gi=n=>n.replace(/[^A-Za-z0-9\+\/]/g,""),Xi=n=>{let r,d,i,s,c="",m=n.length%3;for(let g=0;g<n.length;){if((d=n.charCodeAt(g++))>255||(i=n.charCodeAt(g++))>255||(s=n.charCodeAt(g++))>255)throw new TypeError("invalid character found");r=d<<16|i<<8|s,c+=ne[r>>18&63]+ne[r>>12&63]+ne[r>>6&63]+ne[r&63]}return m?c.slice(0,m-3)+"===".substring(m):c},or=Gn?n=>btoa(n):jt?n=>Buffer.from(n,"binary").toString("base64"):Xi,ir=jt?n=>Buffer.from(n).toString("base64"):n=>{let d=[];for(let i=0,s=n.length;i<s;i+=4096)d.push(Y.apply(null,n.subarray(i,i+4096)));return or(d.join(""))},we=(n,r=!1)=>r?Vi(ir(n)):ir(n),qn=n=>{if(n.length<2){var r=n.charCodeAt(0);return r<128?n:r<2048?Y(192|r>>>6)+Y(128|r&63):Y(224|r>>>12&15)+Y(128|r>>>6&63)+Y(128|r&63)}else{var r=65536+(n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320);return Y(240|r>>>18&7)+Y(128|r>>>12&63)+Y(128|r>>>6&63)+Y(128|r&63)}},Jn=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Zi=n=>n.replace(Jn,qn),Hi=jt?n=>Buffer.from(n,"utf8").toString("base64"):ji?n=>ir(ji.encode(n)):n=>or(Zi(n)),Bt=(n,r=!1)=>r?Vi(Hi(n)):Hi(n),Yi=n=>Bt(n,!0),Kn=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Qn=n=>{switch(n.length){case 4:var r=(7&n.charCodeAt(0))<<18|(63&n.charCodeAt(1))<<12|(63&n.charCodeAt(2))<<6|63&n.charCodeAt(3),d=r-65536;return Y((d>>>10)+55296)+Y((d&1023)+56320);case 3:return Y((15&n.charCodeAt(0))<<12|(63&n.charCodeAt(1))<<6|63&n.charCodeAt(2));default:return Y((31&n.charCodeAt(0))<<6|63&n.charCodeAt(1))}},qi=n=>n.replace(Kn,Qn),Ji=n=>{if(n=n.replace(/\s+/g,""),!Zn.test(n))throw new TypeError("malformed base64.");n+="==".slice(2-(n.length&3));let r,d="",i,s;for(let c=0;c<n.length;)r=De[n.charAt(c++)]<<18|De[n.charAt(c++)]<<12|(i=De[n.charAt(c++)])<<6|(s=De[n.charAt(c++)]),d+=i===64?Y(r>>16&255):s===64?Y(r>>16&255,r>>8&255):Y(r>>16&255,r>>8&255,r&255);return d},sr=Vn?n=>atob(Gi(n)):jt?n=>Buffer.from(n,"base64").toString("binary"):Ji,Ki=jt?n=>zi(Buffer.from(n,"base64")):n=>zi(sr(n).split("").map(r=>r.charCodeAt(0))),Qi=n=>Ki(tn(n)),to=jt?n=>Buffer.from(n,"base64").toString("utf8"):Bi?n=>Bi.decode(Ki(n)):n=>qi(sr(n)),tn=n=>Gi(n.replace(/[-_]/g,r=>r=="-"?"+":"/")),nr=n=>to(tn(n)),eo=n=>{if(typeof n!="string")return!1;let r=n.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(r)||!/[^\s0-9a-zA-Z\-_]/.test(r)},en=n=>({value:n,enumerable:!1,writable:!0,configurable:!0}),rn=function(){let n=(r,d)=>Object.defineProperty(String.prototype,r,en(d));n("fromBase64",function(){return nr(this)}),n("toBase64",function(r){return Bt(this,r)}),n("toBase64URI",function(){return Bt(this,!0)}),n("toBase64URL",function(){return Bt(this,!0)}),n("toUint8Array",function(){return Qi(this)})},nn=function(){let n=(r,d)=>Object.defineProperty(Uint8Array.prototype,r,en(d));n("toBase64",function(r){return we(this,r)}),n("toBase64URI",function(){return we(this,!0)}),n("toBase64URL",function(){return we(this,!0)})},ro=()=>{rn(),nn()},on={version:Wi,VERSION:Wn,atob:sr,atobPolyfill:Ji,btoa:or,btoaPolyfill:Xi,fromBase64:nr,toBase64:Bt,encode:Bt,encodeURI:Yi,encodeURL:Yi,utob:Zi,btou:qi,decode:nr,isValid:eo,fromUint8Array:we,toUint8Array:Qi,extendString:rn,extendUint8Array:nn,extendBuiltins:ro};var _e=new pt("GMAIL_SYSTEM_MAILBOXES",{providedIn:"root",factory:()=>[{id:"INBOX",name:be.Inbox},{id:"TRASH",name:be.Trash},{id:"SPAM",name:be.Spam}]});var sn=(()=>{let r=class{constructor(){this.user$=I(it).user$,this.contactRepo=I(Me),this.systemMailboxes=I(_e)}parseMessage(i){let s=i.payload&&this.parseBodyIntoContentAndType(i.payload),c=i.payload?.headers&&this.parseHeaders(i.payload.headers),m=c?.sender?this.getOrCreateContactByAddress(c.sender):tt(null),g=c?.recipients?.map(D=>this.getOrCreateContactByAddress(D));return lt([m,...g??[]]).pipe(M(([D,...O])=>V(V(V(V(V(V(V(V({},i.id&&{id:i.id}),c?.subject&&{subject:c.subject}),D&&{sender:D.id}),g&&{recipients:O.map(U=>U.id)}),c?.sentAt&&{sentAt:c.sentAt}),i.snippet&&{snippet:i.snippet}),s&&{content:s.content,contentType:s.contentType}),i.labelIds&&{isStarred:i.labelIds.includes("STARRED"),isRead:!i.labelIds.includes("UNREAD"),type:this.parseLabelIdsIntoMailType(i.labelIds),mailbox:this.parseLabelIdsIntoMailboxId(i.labelIds)??void 0})))}parseFullMessage(i){let s=(...c)=>c;return this.parseMessage(i).pipe(M(c=>Oe(c,[...s("id","sender","sentAt","content","contentType"),...s("isRead","type","isStarred")])))}parseHeaders(i){let s=i.find(S=>S.name==="Subject")?.value,c=i.find(S=>S.name==="From")?.value,m=c?this.parseAddressString(c):void 0,D=i.find(S=>S.name==="To")?.value?.split(",").map(S=>S.trim()).map(S=>this.parseAddressString(S)),O=i.find(S=>S.name==="Date")?.value,U=O?new Date(O):void 0;return{subject:s,sender:m,recipients:D,sentAt:U}}parseBody(i,s){if(i.mimeType===s){let c=nt(i,"body.data");return on.decode(c)}for(let c of i.parts??[]){let m=this.parseBody(c,s);if(m)return m}return null}parseBodyIntoContentAndType(i){let s=this.parseBody(i,"text/html");if(s)return{content:s,contentType:"html"};let c=this.parseBody(i,"text/plain");return c?{content:c,contentType:"plain-text"}:{content:"<content not supported>",contentType:"plain-text"}}parseAddressString(i){let s=i.match(/^(.+?)\s+<(.+?)>$/u);if(!s)return{email:i};let[,c,m]=s;return{name:c,email:m}}parseLabelIdsIntoMailType(i){return i.includes("SENT")?"sent":i.includes("DRAFT")?"draft":"received"}parseLabelIdsIntoMailboxId(i){let s=this.systemMailboxes.map(m=>m.id);return i.find(m=>s.includes(m)||m.startsWith("Label_"))??null}getOrCreateContactByAddress(i){return this.user$.pipe(et(),B(()=>this.contactRepo.query(s=>s.email===i.email)),et(),B(s=>s.length?this.contactRepo.retrieve(s[0].id):this.contactRepo.insert({id:i.email,name:i.name,email:i.email})))}},n=r;return(()=>{r.\u0275fac=function(s){return new(s||r)}})(),(()=>{r.\u0275prov=$({token:r,factory:r.\u0275fac,providedIn:"root"})})(),n})();var an=(()=>{let r=class{constructor(){this.messageParser=I(sn),this.mailRepo=I(Ei),this.messageListApi=Z(i=>i.gmail.users.messages.list),this.messageGetApi=Z(i=>i.gmail.users.messages.get),this.messageModifyApi=Z(i=>i.gmail.users.messages.modify),this.messageDeleteApi=Z(i=>i.gmail.users.messages.delete)}loadMails(){return this.messageListApi({userId:"me",includeSpamTrash:!0}).pipe(M(i=>nt(i,"result.messages")),B(i=>lt(i.map(s=>this.loadMail(nt(s,"id"))))))}loadMail(i){return this.messageGetApi({userId:"me",id:i}).pipe(M(s=>s.result),B(s=>this.messageParser.parseFullMessage(s)),B(s=>this.mailRepo.insertOrPatch(s)))}markMailAsStarred(i){return this.updateMail(i,{addLabelIds:["STARRED"]},{isStarred:!0}).pipe(M(()=>{}))}markMailAsNotStarred(i){return this.updateMail(i,{removeLabelIds:["STARRED"]},{isStarred:!1}).pipe(M(()=>{}))}markMailAsRead(i){return this.updateMail(i,{removeLabelIds:["UNREAD"]},{isRead:!0}).pipe(M(()=>{}))}markMailAsUnread(i){return this.updateMail(i,{addLabelIds:["UNREAD"]},{isRead:!1}).pipe(M(()=>{}))}moveMail(i,s){return this.updateMail(i,{removeLabelIds:i.mailbox?[i.mailbox]:[],addLabelIds:s?[s.id]:[]},{mailbox:s?s.id:void 0}).pipe(M(()=>{}))}deleteMail(i){return this.initiateOptimisticMutation(()=>this.mailRepo.delete(i.id),()=>this.messageDeleteApi({userId:"me",id:i.id})).pipe(M(()=>{}))}updateMail(i,s,c){return this.initiateOptimisticMutation(()=>this.mailRepo.patch(i.id,c),()=>this.messageModifyApi({userId:"me",id:i.id},s).pipe(B(m=>this.messageParser.parseMessage(m.result)),et(),B(m=>this.mailRepo.patch(i.id,m))))}initiateOptimisticMutation(i,s){let c=i();return s().pipe(ge(m=>{throw c.undo(),m}))}},n=r;return(()=>{r.\u0275fac=function(s){return new(s||r)}})(),(()=>{r.\u0275prov=$({token:r,factory:r.\u0275fac})})(),n})();var cn=(()=>{let r=class{constructor(){this.mailboxRepo=I(Ii),this.systemMailboxes=I(_e),this.labelListApi=Z(i=>i.gmail.users.labels.list)}loadMailboxes(){return this.labelListApi({userId:"me"}).pipe(M(i=>nt(i.result,"labels")),M(i=>this.parseLabels(i)),M(i=>[...this.systemMailboxes,...i]),B(i=>lt(i.map(s=>this.mailboxRepo.insertOrPatch(s)))))}parseLabels(i){return i.map(c=>this.parseLabel(c)).filter(c=>!!c)}parseLabel(i){return i.type==="system"?null:{id:nt(i,"id"),name:nt(i,"name")}}},n=r;return(()=>{r.\u0275fac=function(s){return new(s||r)}})(),(()=>{r.\u0275prov=$({token:r,factory:r.\u0275fac})})(),n})();var ar=(()=>{let r=class{static configure(i){return{ngModule:r,providers:[{provide:xe,useValue:i.clientId}]}}},n=r;return(()=>{r.\u0275fac=function(s){return new(s||r)}})(),(()=>{r.\u0275mod=xt({type:r})})(),(()=>{r.\u0275inj=Ct({providers:[{provide:Nt,useFactory:()=>{let i=I(Rt);return()=>i},multi:!0},{provide:Nt,useFactory:()=>{if(Lt.production)return()=>{};let i=I(Rt),s=I(it);return()=>{i.subscribe(()=>{if(localStorage.authorization){let c=JSON.parse(localStorage.authorization);gapi.client.setToken({access_token:c.token}),s.setAuthorization(c),console.log("authorization restored",c)}}),s.authorization$.pipe(G(Boolean)).subscribe(c=>{localStorage.authorization=JSON.stringify(c),console.log("authorization saved",c)})}},multi:!0},{provide:it,useClass:ki},{provide:Ft,useClass:Fi},{provide:Ie,useClass:an},{provide:Ce,useClass:cn}]})})(),n})();var Lt={production:!0,backend:ar.configure({clientId:"126727577801-phhoo29ubi9s8t4hmo9n456fduh8du74.apps.googleusercontent.com"})};var un=(()=>{let r=class{},n=r;return(()=>{r.\u0275fac=function(s){return new(s||r)}})(),(()=>{r.\u0275cmp=Ee({type:r,selectors:[["rpl-launch-screen"]],decls:3,vars:0,consts:[[1,"logo"],[1,"text"]],template:function(s,c){s&1&&(Kt(0,"rpl-logo",0),Wr(1,"div",1),Xr(2,"Reply"),Vr())},dependencies:[Ae],styles:["[_nghost-%COMP%]{grid-row:1;grid-column:margin-left/margin-right;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:8px;padding-bottom:8vh;color:#ffffffde;background-color:#344955}.logo[_ngcontent-%COMP%]{width:120px}.text[_ngcontent-%COMP%]{font-size:24px;font-weight:700;line-height:32px;font-family:Work Sans,sans-serif;letter-spacing:normal;text-transform:uppercase}"],changeDetection:0})})(),n})();function oo(n,r){n&1&&Kt(0,"rpl-launch-screen",1),n&2&&Ge("@launchScreen",void 0)}var ln=(()=>{let r=class{get breakpointsClassBindings(){return this.breakpoints()}constructor(){this.animationId=xi(),this.breakpoints=I(Oi),this.router=I(Ci),this.authService=I(it),this.initializers=[...I(Nt),()=>this.router.events.pipe(G(s=>s instanceof Mi),et()),()=>ve(500)],this.initialized$=Jt(...this.initializers.map(s=>s()??tt(null))).pipe(Nr(this.initializers.length),M(()=>!0),ye(!1),St(1)),this.authService.authorized$.pipe(Ur(),M(s=>s[1])).subscribe(()=>{this.router.navigateByUrl("/")})}},n=r;return(()=>{r.\u0275fac=function(s){return new(s||r)}})(),(()=>{r.\u0275cmp=Ee({type:r,selectors:[["rpl-root"]],hostVars:3,hostBindings:function(s,c){s&2&&(Zr("@routes",c.animationId()),Gr(c.breakpointsClassBindings))},decls:3,vars:3,consts:[["class","launch-screen",4,"ngIf"],[1,"launch-screen"]],template:function(s,c){s&1&&(Kt(0,"router-outlet"),Yr(1,oo,1,1,"rpl-launch-screen",0),qr(2,"async")),s&2&&(zr(1),Ge("ngIf",!Jr(2,1,c.initialized$)))},dependencies:[ei,bi,un,ri],styles:['[_nghost-%COMP%]{display:grid;height:100%;background-color:#edf0f2;column-gap:8px;grid-template-rows:100%;grid-template-columns:[margin-left] 0px repeat(4,1fr) 0px [margin-right];grid-template-areas:". col-1 col-2 col-3 col-4 .";overflow:hidden}.tablet-portrait[_nghost-%COMP%]{column-gap:32px;grid-template-columns:[margin-left] 0px repeat(8,1fr) 0px [margin-right];grid-template-areas:". col-1 col-2 col-3 col-4 col-5 col-6 col-7 col-8 ."}.tablet-landscape[_nghost-%COMP%]{grid-template-columns:[margin-left] 0px repeat(12,1fr) 0px [margin-right];grid-template-areas:". col-1 col-2 col-3 col-4 col-5 col-6 col-7 col-8 col-9 col-10 col-11 col-12 ."}.launch-screen[_ngcontent-%COMP%]{grid-row:1;grid-column:margin-left/margin-right;z-index:1000}'],data:{animation:[Ze("routes",[qe("auth => main",[ci([Ut(":leave [data-route-animation-target]",[Qt("50ms linear"),te({opacity:0})]),Ut(":enter rpl-side-nav:not(.expanded)",[te({transform:"translateX(-100%)"}),Qt(`225ms 50ms ${Ke.DECELERATION_CURVE}`)],{optional:!0}),Ut(":enter rpl-bottom-nav > .content, :enter rpl-bottom-nav > .background",[te({transform:"translateY(100%)"}),Qt(`225ms 50ms ${Ke.DECELERATION_CURVE}`)],{optional:!0}),Ut(":enter rpl-bottom-nav @*",[Je()],{optional:!0}),Ut(":enter rpl-mail-list-layout",[Je({delay:"50ms"})])])])]),Ze("launchScreen",[qe(":leave",[Qt("50ms linear"),te({opacity:0})])])]},changeDetection:0})})(),n})();var ao=()=>I(it).authorized$,co=()=>I(it).authorized$.pipe(M(n=>!n)),uo=()=>lt([I(it).user$,I(Ft).loadContacts(),I(Ie).loadMails(),I(Ce).loadMailboxes()]).pipe(et(),M(()=>!0)),lo=[{path:"",canMatch:[co],children:[{path:"auth",data:{animationId:"auth"},loadChildren:()=>import("./auth.module-GISTRWXJ.js").then(n=>n.AuthModule)},{path:"**",redirectTo:"auth"}]},{path:"",canMatch:[ao],canActivate:[uo],children:[{path:"",pathMatch:"full",redirectTo:"mailboxes/Inbox/mails"},{path:"",data:{animationId:"main"},loadChildren:()=>import("./main.module-CAAOIGYM.js").then(n=>n.MainModule)},{path:"**",redirectTo:"mailboxes/Inbox/mails"}]}],po=(()=>{let r=class extends Si{buildTitle(i){let s=super.buildTitle(i);return s&&`${s} | Reply`}},n=r;return(()=>{r.\u0275fac=function(){let i;return function(c){return(i||(i=Br(r)))(c||r)}}()})(),(()=>{r.\u0275prov=$({token:r,factory:r.\u0275fac})})(),n})(),pn=(()=>{let r=class{},n=r;return(()=>{r.\u0275fac=function(s){return new(s||r)}})(),(()=>{r.\u0275mod=xt({type:r})})(),(()=>{r.\u0275inj=Ct({providers:[{provide:Ai,useClass:po}],imports:[Qe.forRoot(lo),Qe]})})(),n})();var hn=(()=>{let r=class{},n=r;return(()=>{r.\u0275fac=function(s){return new(s||r)}})(),(()=>{r.\u0275mod=xt({type:r,bootstrap:[ln]})})(),(()=>{r.\u0275inj=Ct({providers:[{provide:Nt,useFactory:()=>{let i=I(pi),s=I(ai),c=g=>s.bypassSecurityTrustResourceUrl(g),m=()=>i.getNamedSvgIcon("").pipe(ge(()=>tt(null)));return()=>(i.setDefaultFontSetClass(),i.registerFontClassAlias("filled","material-icons mat-ligature-font"),i.addSvgIconSet(c("assets/icons.svg")),m())},multi:!0}],imports:[oi,ui,Li.register("ngsw-worker.js",{enabled:Lt.production,registrationStrategy:"registerWhenStable:30000"}),si,ii,vi.forRoot(),gi.forRoot(),Lt.backend,hi,mi,di,li,fi,pn,Ae]})})(),n})();Lt.production&&void 0;ni().bootstrapModule(hn).catch(n=>console.error(n));
