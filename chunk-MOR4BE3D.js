import{a as u}from"./chunk-FB6BMVSR.js";import{Gd as l,Hd as p,Ld as r,Md as d,Yd as m,Zd as A,ud as a,vd as s,wd as i}from"./chunk-VGXZBCX5.js";import{a as o,b as c}from"./chunk-OROYKVKJ.js";var n=s({source:"account",events:o({},m({name:"loadAccounts",params:i(),events:{completed:a(),failed:a()}}))});var f={currentId:null,accounts:new A(t=>t.id),accountsLoadingStatus:{type:"idle"}},C=d(f,r(u.authenticateCompleted,(t,e)=>c(o({},t),{currentId:e.result.account.id,accounts:t.accounts.upsert(e.result.account)})),r(u.authenticateExpired,t=>c(o({},t),{currentId:null})),r(n.loadAccounts,t=>c(o({},t),{accountsLoadingStatus:{type:"pending"}})),r(n.loadAccountsCompleted,(t,e)=>c(o({},t),{accounts:t.accounts.upsert(...e.result),accountsLoadingStatus:{type:"completed"}})),r(n.loadAccountsFailed,(t,e)=>c(o({},t),{accountsLoadingStatus:{type:"failed",error:e.error}})));var R=p({name:"account",reducer:C,extraSelectors:t=>({selectCurrent:l(t.selectCurrentId,t.selectAccounts,(e,S)=>e?S.retrieve(e):null)})});export{n as a,R as b};
